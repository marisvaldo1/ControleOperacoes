<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ideia 4 – Modal Saldo Médio: Cockpit / Gauges</title>
    <link href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.44.0/tabler-icons.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Courier New',monospace; background:#050a10; color:#a0c4d8; font-size:14px; }

        /* ===== TRIGGER ===== */
        .page { display:flex; align-items:center; justify-content:center; min-height:100vh; }
        .trig {
            border:1px solid #0a4060; border-radius:4px; padding:1.5rem 2.5rem;
            cursor:pointer; text-align:center; transition:all .2s;
            background:linear-gradient(135deg,#040d18 0%,#020609 100%);
            box-shadow:inset 0 0 30px rgba(0,160,255,.05);
        }
        .trig:hover { border-color:#00a0ff; box-shadow:0 0 20px rgba(0,160,255,.25), inset 0 0 30px rgba(0,160,255,.08); }

        /* ===== OVERLAY ===== */
        .overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,.9); z-index:9000; align-items:flex-start; justify-content:center; padding:1.5rem; overflow-y:auto; }
        .overlay.show { display:flex; }

        /* ===== MODAL ===== */
        .modal {
            width:100%; max-width:1300px;
            background:#040d18;
            border:1px solid #0a4060;
            border-radius:4px;
            box-shadow:0 0 60px rgba(0,160,255,.15), inset 0 0 100px rgba(0,30,60,.3);
            animation:cockpitIn .4s ease;
            overflow:hidden;
        }
        @keyframes cockpitIn { from{opacity:0;transform:scale(.97);} to{opacity:1;transform:scale(1);} }

        /* ===== SCANLINE EFFECT ===== */
        .modal::after {
            content:''; position:fixed; inset:0; pointer-events:none; z-index:0;
            background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px);
        }

        /* ===== TOP NAV ===== */
        .top-nav {
            display:flex; align-items:center; padding:.875rem 1.5rem;
            border-bottom:1px solid #0a4060;
            background:rgba(0,20,40,.5);
        }
        .nav-title {
            font-family:'Courier New',monospace;
            font-size:.8rem; font-weight:700; letter-spacing:3px; text-transform:uppercase;
            color:#00a0ff; text-shadow:0 0 10px rgba(0,160,255,.5);
        }
        .nav-status {
            display:flex; align-items:center; gap:6px; margin-left:1.5rem;
            font-size:.7rem; color:#00ff41; letter-spacing:1px;
        }
        .status-dot { width:7px; height:7px; background:#00ff41; border-radius:50%; animation:blink 1.5s infinite; }
        @keyframes blink { 0%,100%{opacity:1;} 50%{opacity:.2;} }
        .nav-time { margin-left:auto; font-size:.72rem; color:#0a5080; letter-spacing:1px; }
        .btn-exit { background:transparent; border:1px solid #0a4060; color:#a0c4d8; padding:5px 12px; border-radius:2px; cursor:pointer; font-family:'Courier New'; font-size:.72rem; letter-spacing:1px; transition:all .15s; }
        .btn-exit:hover { border-color:#ff3040; color:#ff3040; box-shadow:0 0 8px rgba(255,48,64,.3); }

        /* ===== CONTENT ===== */
        .cockpit { padding:1.25rem 1.5rem; }

        /* ===== GAUGE ROW ===== */
        .gauge-row { display:grid; grid-template-columns:repeat(4,1fr); gap:1rem; margin-bottom:1.25rem; }
        @media(max-width:800px){.gauge-row{grid-template-columns:repeat(2,1fr);}}
        .gauge-cell {
            border:1px solid #0a4060; border-radius:4px;
            padding:1.25rem; text-align:center;
            background:rgba(0,20,40,.4);
            position:relative; overflow:hidden;
        }
        .gauge-cell::before {
            content:''; position:absolute; top:0; left:0; right:0; height:1px;
            background:linear-gradient(90deg,transparent,var(--accent),transparent);
        }
        .gauge-cell.blue   { --accent:#00a0ff; }
        .gauge-cell.green  { --accent:#00ff41; }
        .gauge-cell.yellow { --accent:#ffd700; }
        .gauge-cell.orange { --accent:#ff6600; }
        .gauge-lbl { font-size:.6rem; letter-spacing:2px; text-transform:uppercase; color:#0a5080; margin-bottom:.875rem; }
        .gauge-chart { margin:0 auto; }

        /* ===== DATA GRID ===== */
        .data-grid { display:grid; grid-template-columns:1.4fr 1fr; gap:1rem; margin-bottom:1.25rem; }
        @media(max-width:800px){.data-grid{grid-template-columns:1fr;}}

        .panel {
            border:1px solid #0a4060; border-radius:4px;
            background:rgba(0,20,40,.4); overflow:hidden;
        }
        .panel-header {
            padding:.625rem 1rem; border-bottom:1px solid #0a4060;
            font-size:.65rem; letter-spacing:2px; text-transform:uppercase; color:#0a5080;
            background:rgba(0,30,60,.3);
        }
        .panel-body { padding:1rem; }

        /* ===== OPS TABLE ===== */
        .ops-tbl { width:100%; border-collapse:collapse; }
        .ops-tbl th { font-size:.6rem; letter-spacing:1.5px; text-transform:uppercase; color:#0a5080; padding:.5rem .75rem; border-bottom:1px solid #0a4060; text-align:left; }
        .ops-tbl td { font-size:.78rem; padding:.6rem .75rem; border-bottom:1px solid rgba(10,64,96,.3); font-family:'Courier New',monospace; }
        .ops-tbl tr:last-child td { border-bottom:none; }
        .ops-tbl tr:hover td { background:rgba(0,160,255,.04); }
        .tag-call { color:#00a0ff; }
        .tag-put  { color:#b060ff; }
        .pos { color:#00ff41; }
        .neg { color:#ff3040; }
        .open-tag { color:#ffd700; }

        /* ===== METRICS SIDE ===== */
        .metric-list { display:flex; flex-direction:column; gap:.625rem; }
        .mline {
            display:flex; justify-content:space-between; align-items:center;
            padding:.625rem .875rem; border:1px solid #0a4060; border-radius:2px;
            background:rgba(0,10,20,.3);
        }
        .mline-key { font-size:.68rem; letter-spacing:1px; text-transform:uppercase; color:#0a5080; }
        .mline-val { font-size:.95rem; font-weight:700; font-family:'Courier New',monospace; }

        /* ===== BAR ROW ===== */
        .bar-row { display:flex; flex-direction:column; gap:.5rem; }
        .brow { display:flex; align-items:center; gap:.75rem; }
        .brow-lbl { font-size:.65rem; color:#0a5080; width:80px; text-align:right; text-transform:uppercase; letter-spacing:1px; }
        .brow-track { flex:1; background:rgba(255,255,255,.04); height:6px; border-radius:1px; overflow:hidden; }
        .brow-fill { height:100%; border-radius:1px; transition:width .8s ease; }
        .brow-val { width:40px; text-align:right; font-size:.72rem; font-family:'Courier New'; }

        /* ===== BOTTOM ===== */
        .bottom-row { display:grid; grid-template-columns:1fr 1fr 1fr; gap:1rem; }
        @media(max-width:800px){.bottom-row{grid-template-columns:1fr;}}
    </style>
</head>
<body>

<div class="page">
    <div style="text-align:center;">
        <p style="color:#0a5080;font-size:.72rem;letter-spacing:2px;margin-bottom:1.25rem;">↓ CLICK TO OPEN MODAL</p>
        <div class="trig" onclick="openM()">
            <div style="font-size:.62rem;letter-spacing:3px;color:#0a5080;text-transform:uppercase;margin-bottom:.5rem;">SALDO MÉDIO</div>
            <div style="font-size:2rem;font-weight:700;color:#00ff41;text-shadow:0 0 12px rgba(0,255,65,.5);">+3.42%</div>
            <div style="font-size:.72rem;color:#0a5080;margin-top:.3rem;">R$4.280 · 15 OPERAÇÕES</div>
            <div style="font-size:.65rem;color:#00a0ff;margin-top:.875rem;letter-spacing:1px;">ACESSAR COCKPIT →</div>
        </div>
        <p style="color:#0a3050;font-size:.65rem;letter-spacing:2px;margin-top:1rem;">IDEIA 4 — COCKPIT / GAUGES</p>
    </div>
</div>

<div class="overlay" id="overlay" onclick="closeOvl(event)">
<div class="modal" id="modal">

    <!-- TOP NAV -->
    <div class="top-nav">
        <span class="nav-title">SYS // SALDO MÉDIO ANALYZER</span>
        <span class="nav-status"><span class="status-dot"></span>ONLINE</span>
        <span class="nav-time" id="navTime">--:--:--</span>
        <button class="btn-exit" onclick="closeM()" style="margin-left:1rem;">[ FECHAR ]</button>
    </div>

    <div class="cockpit">

        <!-- 4 GAUGE CHARTS -->
        <div class="gauge-row">
            <div class="gauge-cell blue">
                <div class="gauge-lbl">PoP Médio</div>
                <div class="gauge-chart" id="gPoP"></div>
                <div id="gPoPSub" style="font-size:.65rem;letter-spacing:1px;color:#0a5080;margin-top:.3rem;"></div>
            </div>
            <div class="gauge-cell green">
                <div class="gauge-lbl">Win Rate</div>
                <div class="gauge-chart" id="gWin"></div>
                <div id="gWinSub" style="font-size:.65rem;letter-spacing:1px;color:#0a5080;margin-top:.3rem;"></div>
            </div>
            <div class="gauge-cell yellow">
                <div class="gauge-lbl">Retenção Prêmio</div>
                <div class="gauge-chart" id="gRetencao"></div>
                <div id="gRetSub" style="font-size:.65rem;letter-spacing:1px;color:#0a5080;margin-top:.3rem;"></div>
            </div>
            <div class="gauge-cell orange">
                <div class="gauge-lbl">Retorno / Saldo</div>
                <div class="gauge-chart" id="gRetorno"></div>
                <div id="gRetSub2" style="font-size:.65rem;letter-spacing:1px;color:#0a5080;margin-top:.3rem;"></div>
            </div>
        </div>

        <!-- DATA GRID -->
        <div class="data-grid">
            <!-- OPS TABLE -->
            <div class="panel">
                <div class="panel-header">// OPERAÇÕES · LOG</div>
                <div class="panel-body" style="padding:0;overflow-x:auto;max-height:340px;overflow-y:auto;">
                    <table class="ops-tbl">
                        <thead><tr>
                            <th>ATIVO</th><th>T</th><th>PRÊM.</th><th>%</th><th>PoP</th><th>DIAS</th><th>RESULT.</th><th>ST.</th>
                        </tr></thead>
                        <tbody id="opsTbody"></tbody>
                    </table>
                </div>
            </div>
            <!-- METRICS -->
            <div class="panel">
                <div class="panel-header">// STATUS GERAL</div>
                <div class="panel-body">
                    <div class="metric-list" id="metricList"></div>
                </div>
            </div>
        </div>

        <!-- BOTTOM -->
        <div class="bottom-row">
            <div class="panel">
                <div class="panel-header">// CAPITAL CURVE</div>
                <div class="panel-body" style="padding:.5rem;">
                    <div id="chartCapital"></div>
                </div>
            </div>
            <div class="panel">
                <div class="panel-header">// PoP BREAKDOWN</div>
                <div class="panel-body">
                    <div class="bar-row" id="popBars"></div>
                </div>
            </div>
            <div class="panel">
                <div class="panel-header">// PRÊMIO × ATIVO</div>
                <div class="panel-body" style="padding:.5rem;">
                    <div id="chartAtivo"></div>
                </div>
            </div>
        </div>

    </div>
</div>
</div>

<script>
const OPS=[
    {id:1, ativo_base:'PETR4',ativo:'PETRN369W1',tipo:'CALL',premio:365, resultado:353, saldo_abertura:125000,status:'FECHADA',data_operacao:'2025-12-10',dias:38},
    {id:2, ativo_base:'PETR4',ativo:'PETRN380W1',tipo:'PUT', premio:280, resultado:275, saldo_abertura:125353,status:'FECHADA',data_operacao:'2025-12-12',dias:36},
    {id:3, ativo_base:'VALE3',ativo:'VALEB550W1',tipo:'PUT', premio:210, resultado:180, saldo_abertura:125628,status:'FECHADA',data_operacao:'2026-01-05',dias:47},
    {id:4, ativo_base:'ITUB4',ativo:'ITUBL330W1',tipo:'CALL',premio:220, resultado:218, saldo_abertura:125808,status:'FECHADA',data_operacao:'2026-01-07',dias:10},
    {id:5, ativo_base:'PETR4',ativo:'PETRF370W1',tipo:'CALL',premio:290, resultado:280, saldo_abertura:126026,status:'FECHADA',data_operacao:'2026-01-10',dias:42},
    {id:6, ativo_base:'BBDC4',ativo:'BBDCB180W1',tipo:'PUT', premio:180, resultado:-170,saldo_abertura:126306,status:'FECHADA',data_operacao:'2026-01-12',dias:40},
    {id:7, ativo_base:'VALE3',ativo:'VALEF500W1',tipo:'PUT', premio:280, resultado:268, saldo_abertura:126136,status:'FECHADA',data_operacao:'2026-01-15',dias:37},
    {id:8, ativo_base:'PETR4',ativo:'PETRN380W2',tipo:'CALL',premio:320, resultado:312, saldo_abertura:126404,status:'FECHADA',data_operacao:'2026-01-20',dias:32},
    {id:9, ativo_base:'ITUB4',ativo:'ITUBN320W1',tipo:'CALL',premio:190, resultado:189, saldo_abertura:126716,status:'FECHADA',data_operacao:'2026-01-22',dias:30},
    {id:10,ativo_base:'BBAS3',ativo:'BBASF280W1',tipo:'PUT', premio:260, resultado:-240,saldo_abertura:126905,status:'FECHADA',data_operacao:'2026-01-25',dias:27},
    {id:11,ativo_base:'PETR4',ativo:'PETRN390G1',tipo:'CALL',premio:250, resultado:245, saldo_abertura:126665,status:'FECHADA',data_operacao:'2026-02-01',dias:47},
    {id:12,ativo_base:'VALE3',ativo:'VALEF520W1',tipo:'PUT', premio:240, resultado:228, saldo_abertura:126910,status:'FECHADA',data_operacao:'2026-02-03',dias:45},
    {id:13,ativo_base:'ITUB4',ativo:'ITUBG340W1',tipo:'CALL',premio:170, resultado:164, saldo_abertura:127138,status:'ABERTA', data_operacao:'2026-02-05',dias:43},
    {id:14,ativo_base:'PETR4',ativo:'PETRG400W1',tipo:'CALL',premio:210, resultado:90,  saldo_abertura:127302,status:'ABERTA', data_operacao:'2026-02-10',dias:38},
    {id:15,ativo_base:'BBDC4',ativo:'BBDCG200W1',tipo:'PUT', premio:195, resultado:183, saldo_abertura:127392,status:'FECHADA',data_operacao:'2026-02-12',dias:36},
];
const POP_MAP={1:82,2:78,3:74,4:88,5:79,6:58,7:76,8:81,9:86,10:55,11:83,12:77,13:85,14:72,15:80};

let gPoPChart,gWinChart,gRetChart,gRet2Chart,capChart,ativoChart;
const fmt = v=>new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(v);
const fmtK = v=>'R$'+(v/1000).toFixed(1)+'k';

function makeSemiGauge(elId, value, max=100, color, label) {
    const pct = value/max;
    const opts = {
        series:[+(pct*100).toFixed(1)],
        chart:{type:'radialBar',height:150,background:'transparent',toolbar:{show:false}},
        plotOptions:{radialBar:{
            startAngle:-135,endAngle:135,
            hollow:{size:'55%'},
            track:{background:'rgba(255,255,255,.05)',strokeWidth:'100%'},
            dataLabels:{name:{show:true,fontSize:'9px',color:'#0a5080',offsetY:18,fontFamily:'Courier New'},value:{show:true,fontSize:'1.3rem',color,fontFamily:'Courier New',fontWeight:700,offsetY:-8,formatter:v=>v+'%'}},
        }},
        labels:[label],
        colors:[color],
        fill:{type:'gradient',gradient:{shade:'dark',type:'circular',shadeIntensity:.4,gradientToColors:[color+'90'],stops:[0,100]}},
    };
    return opts;
}

function openM() {
    document.getElementById('overlay').classList.add('show');
    startClock();
    render();
}
function closeM() { document.getElementById('overlay').classList.remove('show'); }
function closeOvl(e){if(e.target===document.getElementById('overlay'))closeM();}

function startClock(){
    const el=document.getElementById('navTime');
    const tick=()=>{ el.textContent=new Date().toLocaleTimeString('pt-BR'); };
    tick(); setInterval(tick,1000);
}

function render(){
    const sorted=[...OPS].sort((a,b)=>new Date(a.data_operacao)-new Date(b.data_operacao));
    const tPremio=OPS.reduce((a,o)=>a+(o.premio||0),0);
    const tResult=OPS.reduce((a,o)=>a+(o.resultado||0),0);
    const fechadas=OPS.filter(o=>o.status==='FECHADA');
    const venc=fechadas.filter(o=>(o.resultado||0)>0);
    const abertas=OPS.filter(o=>o.status==='ABERTA');
    const saldoIni=OPS[0].saldo_abertura;
    const saldoAtual=saldoIni+tResult;
    const winRate=fechadas.length?venc.length/fechadas.length*100:0;
    const popMedio=OPS.reduce((a,o)=>a+(POP_MAP[o.id]||70),0)/OPS.length;
    const retencao=tPremio>0?tResult/tPremio*100:0;
    const retorno=tPremio/saldoIni*100;
    const durMedia=OPS.reduce((a,o)=>a+(o.dias||30),0)/OPS.length;

    // Gauges
    if(gPoPChart){gPoPChart.destroy();}
    if(gWinChart){gWinChart.destroy();}
    if(gRetChart){gRetChart.destroy();}
    if(gRet2Chart){gRet2Chart.destroy();}

    gPoPChart=new ApexCharts(document.getElementById('gPoP'),makeSemiGauge('gPoP',popMedio,100,'#00a0ff','POPs'));
    gPoPChart.render(); document.getElementById('gPoPSub').textContent=`MÉD. POND. ${popMedio.toFixed(1)}%`;

    gWinChart=new ApexCharts(document.getElementById('gWin'),makeSemiGauge('gWin',winRate,100,'#00ff41','VITÓRIAS'));
    gWinChart.render(); document.getElementById('gWinSub').textContent=`${venc.length}/${fechadas.length} OPS`;

    gRetChart=new ApexCharts(document.getElementById('gRetencao'),makeSemiGauge('gRetencao',Math.min(retencao,100),100,'#ffd700','RET.'));
    gRetChart.render(); document.getElementById('gRetSub').textContent=`${retencao.toFixed(0)}% RETIDO`;

    gRet2Chart=new ApexCharts(document.getElementById('gRetorno'),makeSemiGauge('gRetorno',Math.min(retorno,20)/20*100,100,'#ff6600','RETORNO'));
    gRet2Chart.render(); document.getElementById('gRetSub2').textContent=`${retorno.toFixed(2)}% / SALDO`;

    // OPS TABLE
    const tbody=document.getElementById('opsTbody');
    tbody.innerHTML='';
    sorted.forEach(op=>{
        const pop=POP_MAP[op.id]||70;
        const pct=(op.premio/(op.saldo_abertura||125000)*100).toFixed(2);
        const res=op.resultado||0;
        const tr=document.createElement('tr');
        tr.innerHTML=`
            <td style="font-size:.72rem;">${op.ativo}</td>
            <td class="${op.tipo==='CALL'?'tag-call':'tag-put'}">${op.tipo}</td>
            <td class="pos">${fmt(op.premio)}</td>
            <td style="color:#a0c4d8;">${pct}%</td>
            <td style="color:${pop>=75?'#00ff41':pop>=60?'#ffd700':'#ff3040'}">${pop}%</td>
            <td style="color:#0a5080;">${op.dias}d</td>
            <td class="${res>=0?'pos':'neg'}">${fmt(res)}</td>
            <td class="${op.status==='ABERTA'?'open-tag':res>=0?'pos':'neg'}" style="font-size:.65rem;">${op.status==='ABERTA'?'OPEN':'DONE'}</td>
        `;
        tbody.appendChild(tr);
    });

    // METRICS
    const metrics=[
        {k:'TOTAL OPS',    v:OPS.length, c:'#a0c4d8'},
        {k:'SALDO INICIAL', v:fmtK(saldoIni), c:'#a0c4d8'},
        {k:'SALDO ATUAL',   v:fmtK(saldoAtual), c:saldoAtual>saldoIni?'#00ff41':'#ff3040'},
        {k:'PRÊMIO TOTAL',  v:fmt(tPremio), c:'#00ff41'},
        {k:'RESULTADO LÍQ.',v:fmt(tResult), c:tResult>=0?'#00ff41':'#ff3040'},
        {k:'DUR. MÉDIA',    v:durMedia.toFixed(0)+'d', c:'#ffd700'},
        {k:'ABERTAS',       v:abertas.length, c:'#ffd700'},
    ];
    document.getElementById('metricList').innerHTML=metrics.map(m=>`<div class="mline"><span class="mline-key">${m.k}</span><span class="mline-val" style="color:${m.c}">${m.v}</span></div>`).join('');

    // CAPITAL CURVE
    let bal=sorted[0]?.saldo_abertura||125000;
    const cats=['STR'], bals=[bal];
    sorted.forEach(o=>{ bal+=o.resultado||0; cats.push(o.ativo.slice(4,8)); bals.push(bal); });
    if(capChart){capChart.destroy();}
    capChart=new ApexCharts(document.getElementById('chartCapital'),{
        series:[{name:'Capital',data:bals}],
        chart:{type:'area',height:180,background:'transparent',toolbar:{show:false},animations:{speed:500}},
        stroke:{width:2,curve:'smooth',colors:['#00a0ff']},
        fill:{type:'gradient',gradient:{shadeIntensity:1,opacityFrom:.3,opacityTo:.02,stops:[0,100],colorStops:[{offset:0,color:'#00a0ff',opacity:.3},{offset:100,color:'#00a0ff',opacity:0}]}},
        xaxis:{categories:cats,labels:{style:{colors:Array(cats.length).fill('#0a5080'),fontSize:'8px'},fontFamily:'Courier New'},axisBorder:{show:false},axisTicks:{show:false}},
        yaxis:{labels:{formatter:v=>fmtK(v),style:{colors:['#0a5080'],fontFamily:'Courier New'}}},
        grid:{borderColor:'rgba(0,100,160,.15)',strokeDashArray:4},
        tooltip:{theme:'dark',y:{formatter:v=>fmt(v)}},
    });
    capChart.render();

    // POP BARS
    const ativoMap={};
    OPS.forEach(o=>{ativoMap[o.ativo_base]=(ativoMap[o.ativo_base]||0)+(o.premio||0);});
    const popRanges=[{l:'≥80%',n:0,c:'#00ff41'},{l:'70–79%',n:0,c:'#00a0ff'},{l:'60–69%',n:0,c:'#ffd700'},{l:'50–59%',n:0,c:'#ff6600'},{l:'<50%',n:0,c:'#ff3040'}];
    OPS.forEach(o=>{const p=POP_MAP[o.id]||70; if(p>=80)popRanges[0].n++;else if(p>=70)popRanges[1].n++;else if(p>=60)popRanges[2].n++;else if(p>=50)popRanges[3].n++;else popRanges[4].n++;});
    document.getElementById('popBars').innerHTML=popRanges.map(b=>`
        <div class="brow">
            <span class="brow-lbl">${b.l}</span>
            <div class="brow-track"><div class="brow-fill" style="width:${b.n/OPS.length*100}%;background:${b.c};box-shadow:0 0 6px ${b.c}50;"></div></div>
            <span class="brow-val" style="color:${b.c};">${b.n}</span>
        </div>`).join('');

    // ATIVO CHART
    const aCats=Object.keys(ativoMap), aVals=Object.values(ativoMap);
    if(ativoChart){ativoChart.destroy();}
    ativoChart=new ApexCharts(document.getElementById('chartAtivo'),{
        series:[{name:'Prêmio',data:aVals}],
        chart:{type:'bar',height:180,background:'transparent',toolbar:{show:false}},
        plotOptions:{bar:{horizontal:false,borderRadius:2,columnWidth:'60%',distributed:true}},
        colors:['#00a0ff','#00ff41','#ffd700','#ff6600'],
        xaxis:{categories:aCats,labels:{style:{colors:Array(aCats.length).fill('#0a5080'),fontSize:'9px',fontFamily:'Courier New'}}},
        yaxis:{labels:{formatter:v=>fmtK(v),style:{colors:['#0a5080'],fontFamily:'Courier New'}}},
        grid:{borderColor:'rgba(0,100,160,.1)'},
        legend:{show:false},
        tooltip:{theme:'dark',y:{formatter:v=>fmt(v)}},
    });
    ativoChart.render();
}
</script>
</body>
</html>
